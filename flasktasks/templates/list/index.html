<div class="panel panel-default list">
    <div class="panel-heading">
        <h3 class="panel-title">{{ list.title }}
            <span class="glyphicon glyphicon-{{ icons_rev[list.icon]|lower }}"></span>
            <span><a class="btn btn-link new-item" href="/list/{{list.id}}/tasks/new"><i class="glyphicon glyphicon-plus"></i> New Task</a></span>
        </h3>
    </div>
    <div class="panel-body">
        <div class="list-group item-list">
            {%- set tasks=list.get_tasks() %}
            {% for task in tasks %}
            <a href="{{ url_for('task', task_id=task.id) }}" class="list-group-item {{ 'tagged tag-' + colors_rev[task.color].lower() }} row">
                <h4 class="list-group-item-heading">{{ task.title }}</h4>
                <p class="list-group-item-text">{{ task.description }}</p>
                <div class="btn-group-vertical control-stack">
                    {% if task.order > 0 %}
                    <button class="up btn btn-xs btn-info"><i class="glyphicon glyphicon-chevron-up"></i></button>
                    {% endif %}
                    {% if list.order + 1 != list.get_num_lists() %}
                    <button class="next btn btn-xs btn-info"><i class="glyphicon glyphicon-chevron-right"></i></button>
                    {% endif %}
                    {% if list.order != 0 %}
                    <button class="prev btn btn-xs btn-info"><i class="glyphicon glyphicon-chevron-left"></i></button>
                    {% endif %}
                    {% if task.order < tasks|length - 1 %}
                    <button class="down btn btn-xs btn-info"><i class="glyphicon glyphicon-chevron-down"></i></button>
                    {% endif %}
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</div>
